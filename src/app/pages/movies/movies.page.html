<ion-header>
  <ion-toolbar color="dark">
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Movies</ion-title>
  </ion-toolbar>
</ion-header>
<ion-searchbar placeholder="Buscar" animated (ionChange)='buscar($event)'></ion-searchbar>
<ion-content>
  <ion-list *ngIf='movies == null'>
    <ion-item>
      <ion-thumbnail slot="start">
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label><ion-skeleton-text animated style="width: 60%"></ion-skeleton-text></ion-label>
    </ion-item>
    <ion-item>
      <ion-thumbnail slot="start">
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label><ion-skeleton-text animated style="width: 60%"></ion-skeleton-text></ion-label>
    </ion-item>
    <ion-item>
      <ion-thumbnail slot="start">
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label><ion-skeleton-text animated style="width: 60%"></ion-skeleton-text></ion-label>
    </ion-item>
    <ion-item>
      <ion-thumbnail slot="start">
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label><ion-skeleton-text animated style="width: 60%"></ion-skeleton-text></ion-label>
    </ion-item>
    <ion-item>
      <ion-thumbnail slot="start">
        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label><ion-skeleton-text animated style="width: 60%"></ion-skeleton-text></ion-label>
    </ion-item>      
  </ion-list>
  <ion-list *ngIf='movies != null'>      
    <div *ngFor="let movie of movies">
      <ion-item button (click)="addMovie(movie)">
        <ion-thumbnail slot="start">
          <img *ngIf="movie.image != null" alt="{{ movie.name }}" src="{{ movie.image.original }}" />
          <img *ngIf="movie.image == null" alt="{{ movie.name }}" src="https://ionicframework.com/docs/img/demos/thumbnail.svg" />
        </ion-thumbnail>
        <ion-label>
          <h4>{{ movie.name }}</h4>
          <p>{{ movie.show }}</p>
        </ion-label>
      </ion-item>
    </div>
  </ion-list>
</ion-content>
